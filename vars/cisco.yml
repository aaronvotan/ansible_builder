---
ee_list:
  - name: aap_cisco_ee
    tag: "{{ ansible_date_time.iso8601_basic_short }}"
    dependencies:
      system:
        - python38-requests [platform:rhel-8]
        - python38-pyyaml [platform:rhel-8]
        - bind-utils [platform:rpm]
        - iputils [platform:rpm]
        - python3-jmespath [platform:rpm]
        - net-snmp-libs [platform:rpm]
        - net-snmp-utils [platform:rpm]
      python:
        - ansible-pylibssh  # for authentication
        - pytz   # for schedule_rrule lookup plugin
        - python-dateutil>=2.7.0   # schedule_rrule
        - infoblox-client
        - hvac  # for hashi_vault plugin
      galaxy:
        collections:
          - name: ansible.netcommon
          - name: cisco.dnac
          - name: cisco.ios
          - name: cisco.ise
          - name: cisco.nxos
          - name: community.general
          - name: community.hashi_vault
          - name: uscis.networking
    build_steps:
      prepend_final:
        - RUN microdnf install crypto-policies-scripts && update-crypto-policies --set DEFAULT:AD-SUPPORT
        - RUN echo "Build Complete"
